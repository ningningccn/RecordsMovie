{"version":3,"sources":["webpack:///./src/components/Page/SearchCard.vue?3888","webpack:///./src/views/search/index.vue","webpack:///./src/components/Page/SearchCard.vue","webpack:///./src/components/Page/SearchCard.vue?380f","webpack:///./src/views/search/index.vue?9dee","webpack:///./src/views/search/index.vue?de14","webpack:///./src/components/Footer.vue","webpack:///./src/components/Footer.vue?14b8"],"names":["class","_createVNode","_component_Header","_createElementVNode","_toDisplayString","$data","type","placeholder","$event","onClick","$options","_createElementBlock","_Fragment","_renderList","item","key","id","_component_searchCard","onGetMediaID","_component_Footer","$props","media_type","src","poster_path","overview","props","emits","computed","movieName","this","name","title","movieDate","first_air_date","release_date","movieType","methods","getSearchID","$emit","__exports__","components","Header","SearchCard","Footer","data","resultsData","querySearchText","searchText","total_results","searchData","$router","push","getMediaDetail","dataObj","console","log","params","mediaType","mediaID","created","$watch","$route","query","searchMovieFetch","results","total","render","style","_hoisted_2","_hoisted_3","_hoisted_4"],"mappings":"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","file":"js/chunk-0536f0cb.146ab335.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./SearchCard.vue?vue&type=style&index=0&id=524ba162&lang=scss&scoped=true\"","<template>\n  <Header />\n  <div class=\"container-md\">\n    <h2 class=\"d-flex my-4\">搜尋結果 ({{ total_results }})</h2>\n    <div class=\"search-bar\">\n      <div class=\"input-group\">\n        <input type=\"text\" class=\"form-control\" placeholder=\"搜尋內容\" v-model=\"searchText\" />\n        <button class=\"btn btn-search\" type=\"button\" @click=\"searchData()\">搜尋</button>\n      </div>\n    </div>\n    <div class=\"search-content row g-0\">\n      <div\n        class=\"col-6 col-md-4 col-lg-3 col-xl-2 px-1 my-1 my-sm-2\"\n        v-for=\"item in resultsData\"\n        :key=\"item.id\">\n        <searchCard :item=\"item\" @getMediaID=\"getMediaDetail\"></searchCard>\n      </div>\n    </div>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Header from \"@/components/Header.vue\";\nimport SearchCard from \"@/components/Page/SearchCard.vue\";\nimport Footer from \"@/components/Footer.vue\";\n\nimport { searchMovieFetch } from \"@/api\";\n\nexport default {\n  components: {\n    Header,\n    SearchCard,\n    Footer,\n  },\n  data() {\n    return {\n      resultsData: [],\n      querySearchText: \"\",\n      searchText: \"\",\n      total_results: 0,\n    };\n  },\n  methods: {\n    searchData() {\n      this.$router.push(`/search?searchText=${this.searchText}`);\n      this.searchText = \"\";\n    },\n    getMediaDetail(dataObj) {\n      console.log(dataObj);\n      this.$router.push({\n        name: \"searched\",\n        params: {\n          mediaType: dataObj.media_type,\n          mediaID: dataObj.id,\n        },\n      });\n    },\n  },\n  async created() {\n    this.$watch(\"$route.query\", async () => {\n      this.querySearchText = this.$route.query.searchText;\n      let { results, total } = await searchMovieFetch(this.querySearchText);\n      this.resultsData = results;\n      this.total_results = total;\n\n      // let apiUrl = this.url + this.api_key + \"&language=zh-TW&query=\" + this.querySearchText;\n      // console.log(this.$route.query);\n      // console.log(apiUrl);\n      // this.axios.get(apiUrl).then((response) => {\n      //   console.log(response.data);\n      //   this.searchedData = response.data.results;\n      //   this.total_results = response.data.total_results;\n      // });\n    });\n    this.querySearchText = this.$route.query.searchText;\n    let { results, total } = await searchMovieFetch(this.querySearchText);\n\n    this.resultsData = results;\n    this.total_results = total;\n    // \n    // console.log(searchMovieData);\n    // let apiUrl = this.url + this.api_key + \"&language=zh-TW&query=\" + this.querySearchText;\n    // // console.log(this.$route.query);\n    // console.log(apiUrl);\n    // this.axios.get(apiUrl).then((response) => {\n    //   console.log(response.data);\n    //   this.searchedData = response.data.results;\n    //   this.total_results = response.data.total_results;\n    // });\n  },\n};\n</script>\n\n<style scoped>\n.btn.btn-search {\n  background: rgb(3, 37, 65);\n  color: #fff;\n}\n\ninput:focus,\nbutton:focus {\n  box-shadow: none;\n  border: 1px solid rgb(3, 37, 65);\n}\n</style>\n","<template>\n  <!-- {{ searchedData }} -->\n  <div class=\"card card-shadow\" @click=\"getSearchID(item.id, item.media_type)\">\n    <img :src=\"`https://image.tmdb.org/t/p/w300/${item.poster_path}`\" class=\"img-size\" />\n    <div class=\"details py-2 px-3\">\n      <div class=\"details\">\n        <h5 class=\"card-title card-ellipsis\">{{ movieName }}</h5>\n        <div class=\"d-flex justify-content-between mb-3\">\n          <small class=\"text-muted\">{{ movieDate }}</small>\n          <small class=\"text-muted\">{{ movieType }}</small>\n        </div>\n        <p class=\"overview\">\n          {{ item.overview }}\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: [\"item\"],\n  emits: [\"getMediaID\"],\n  computed: {\n    movieName() {\n      if (this.item.media_type == \"tv\") {\n        return this.item.name;\n      } else {\n        return this.item.title;\n      }\n    },\n    movieDate() {\n      if (this.item.media_type == \"tv\") {\n        return this.item.first_air_date;\n      } else {\n        return this.item.release_date;\n      }\n    },\n    movieType() {\n      if (this.item.media_type == \"tv\") {\n        return \"電視劇\";\n      } else {\n        return \"電影\";\n      }\n    },\n  },\n  methods: {\n    getSearchID(id, media_type) {\n      this.$emit(\"getMediaID\", { id, media_type });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.card {\n  height: 100%;\n}\n.details {\n  text-align: left;\n}\n.overview {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 4;\n}\n</style>\n","import { render } from \"./SearchCard.vue?vue&type=template&id=524ba162&scoped=true\"\nimport script from \"./SearchCard.vue?vue&type=script&lang=js\"\nexport * from \"./SearchCard.vue?vue&type=script&lang=js\"\n\nimport \"./SearchCard.vue?vue&type=style&index=0&id=524ba162&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/RecordsMovie/RecordsMovie/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-524ba162\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=8e178ce2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=8e178ce2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/RecordsMovie/RecordsMovie/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8e178ce2\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=8e178ce2&scoped=true&lang=css\"","<template>\n  <footer class=\"text-white p-4\" style=\"background-color: #032541\">\n    <p>© Copyright 2022 Records Video</p>\n    <p>不作任何商業用途 純屬練習作品</p>\n  </footer>\n</template>\n\n<script>\nexport default {\n  data(){\n    return {\n    }\n  },\n}\n</script>\n\n<style scoped>\n</style>","import { render } from \"./Footer.vue?vue&type=template&id=2c4a53d4\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/RecordsMovie/RecordsMovie/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}