{"version":3,"sources":["webpack:///./src/views/Home/Watched.vue?43d8","webpack:///./src/views/Home/Watched.vue","webpack:///./src/views/Home/Watched.vue?9a2d"],"names":["class","_createVNode","_component_search","value","$data","onInput","$event","target","_createElementVNode","$options","length","_createElementBlock","_Fragment","_renderList","item","key","id","_component_card","onMoveToPage","_ctx","_createBlock","_component_not_have_data","_component_loading","isLoading","components","Search","Card","NotHaveData","Loading","data","isPageLoading","searchText","page","itemsPerPage","methods","handleScroll","document","documentElement","scrollHeight","scrollTop","clientHeight","this","computed","userPostData","Data","Object","entries","$store","getters","reverse","filterA","filter","watched","movieName","match","filterB","index","console","log","mounted","window","addEventListener","__exports__","render"],"mappings":"kHAAA,W,mFCEOA,MAAM,a,SACJA,MAAM,O,kMAFbC,eAAgFC,EAAA,CAAvEC,MAAOC,aAAaC,QAAK,+BAAED,aAAaE,EAAOC,OAAOJ,SAA/D,kBACAK,eAWM,MAXN,EAWM,CAVmBC,eAAaC,OAAM,oBAA1CC,eAOM,MAPN,EAOM,qBANJA,eAKMC,OAAA,KAAAC,eAHWJ,gBAAY,SAApBK,G,wBAFTH,eAKM,OAJJX,MAAM,qDAELe,IAAKD,EAAKE,IAHb,CAIEf,eAAmDgB,EAAA,CAA5CH,KAAMA,EAAOI,aAAYC,cAAhC,qCAJF,UADF,iBAQAC,eAAsCC,EAAA,CAAAN,SACtCd,eAA8CqB,EAAA,CAApCC,UAAWnB,iBAAa,yBAVpC,I,sGAsBa,GACboB,WAAY,CACVC,cACAC,YACAC,mBACAC,gBAEFC,KAPa,WAQX,MAAO,CACLC,eAAe,EACfC,WAAY,GACZC,KAAM,EACNC,aAAc,KAGlBC,QAAS,CACPC,aADO,WAEL,MAAkDC,SAASC,gBAAnDC,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,UAAWC,EAAjC,EAAiCA,aAC7BD,EAAYC,GAAgBF,GAC9BG,KAAKT,SAoCXU,SAAU,CACRC,aADQ,WACO,WACTC,EAAOC,OAAOC,QAAQL,KAAKM,OAAOC,QAAQL,cAAcM,UAGxDC,EAAUN,EAAKO,QAAO,SAACrC,GACzB,OAA0B,GAAnBA,EAAK,GAAGsC,SAAgBtC,EAAK,GAAGuC,UAAUC,MAAM,EAAKvB,eAE1DwB,EAAUL,EAAQC,QAAO,SAACrC,EAAM0C,GAGlC,OADAC,QAAQC,IAAI,EAAIF,GACT,EAAKxB,KAAO,EAAKC,aAAeuB,KAGzC,OAAOD,IAGXI,QAxEa,WAyEXC,OAAOC,iBAAiB,SAAUpB,KAAKN,gB,iCC1F3C,MAAM2B,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E","file":"js/chunk-01aca706.b25fc7f9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Watched.vue?vue&type=style&index=0&id=0461033a&scoped=true&lang=css\"","<template>\n  <search :value=\"searchText\" @input=\"searchText = $event.target.value\"> </search>\n  <div class=\"container\">\n    <div class=\"row\" v-if=\"userPostData.length > 0\">\n      <div\n        class=\"col-6 col-md-4 col-lg-3 col-xl-2 px-1 my-1 my-sm-2\"\n        v-for=\"item in userPostData\"\n        :key=\"item.id\">\n        <card :item=\"item\" @moveToPage=\"moveToPage\"></card>\n      </div>\n    </div>\n    <not-have-data v-else></not-have-data>\n    <loading :isLoading=\"isPageLoading\"></loading>\n  </div>\n</template>\n<script>\n// import { useRouter } from 'vue-router'\n// import { db , auth} from \"@/db\";\n// import { ref, child, get } from \"firebase/database\";\n// import { onAuthStateChanged } from \"firebase/auth\";\nimport Search from \"@/components/Search.vue\";\nimport Card from \"@/components/Card.vue\";\nimport NotHaveData from \"@/components/NotHaveData.vue\";\nimport Loading from \"@/components/Plugin/Loading.vue\";\nexport default {\n  components: {\n    Search,\n    Card,\n    NotHaveData,\n    Loading,\n  },\n  data() {\n    return {\n      isPageLoading: false,\n      searchText: \"\",\n      page: 1,\n      itemsPerPage: 24,\n    };\n  },\n  methods: {\n    handleScroll() {\n      const { scrollHeight, scrollTop, clientHeight } = document.documentElement;\n      if (scrollTop + clientHeight >= scrollHeight) {\n        this.page++;\n      }\n    },\n    // getDbPost() {\n    //   var vm = this;\n    //   get(child(ref(db), `user/${vm.uid}/post/`))\n    //     .then((snapshot) => {\n    //       console.log(snapshot.exists());\n    //       if (snapshot.exists()) {\n    //         // let arr = [];\n    //         // arr = snapshot.val();\n    //         // console.log(typeof arr, arr);\n    //         vm.postData = snapshot.val();\n    //       } else {\n    //         console.log(\"沒有資料\");\n    //       }\n    //     })\n    //     .catch((error) => {\n    //       console.error(error);\n    //     });\n    // },\n    // state() {\n    //   return new Promise((resolve, reject) => {\n    //     onAuthStateChanged(auth, (user) => {\n    //       var vm = this;\n    //       if (user) {\n    //         vm.uid = user.uid;\n    //         resolve(`獲取uid`);\n    //       } else {\n    //         reject('User is signed out: ');\n    //       }\n    //     });\n\n    //   })\n    // },\n  },\n  computed: {\n    userPostData() {\n      var Data = Object.entries(this.$store.getters.userPostData).reverse();\n\n      // return Object.entries(Data)\n      let filterA = Data.filter((item) => {\n        return item[1].watched == 1 && item[1].movieName.match(this.searchText);\n      });\n      let filterB = filterA.filter((item, index) => {\n        // console.log(item , index)\n        console.log(6 > index);\n        return this.page * this.itemsPerPage > index;\n      });\n      // console.log(b);\n      return filterB;\n    },\n  },\n  mounted() {\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n};\n</script>\n\n<style scoped>\n/* .mask {\n  position: absolute;\n  z-index: 2;\n  top: 0px;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.452);\n  transition: 0.5s opacity;\n  opacity: 0;\n}\n\n.mask:hover {\n  opacity: 1;\n} */\n/* .yearColor {\n  color: #00000099;\n  font-size: 12px;\n} */\n\n.card {\n  box-shadow: 3px 3px 4px rgb(0 0 0 / 20%);\n  cursor: pointer;\n}\n\n.bb_red {\n  border-bottom: 2px solid #f36793;\n}\n.bb_green {\n  border-bottom: 2px solid #6fff00;\n}\n\n/* .ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n} */\n/* .img-size {\n  max-width: 100%;\n  height: 320px;\n} */\n</style>\n","import { render } from \"./Watched.vue?vue&type=template&id=0461033a&scoped=true\"\nimport script from \"./Watched.vue?vue&type=script&lang=js\"\nexport * from \"./Watched.vue?vue&type=script&lang=js\"\n\nimport \"./Watched.vue?vue&type=style&index=0&id=0461033a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/RecordsMovie/RecordsMovie/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0461033a\"]])\n\nexport default __exports__"],"sourceRoot":""}